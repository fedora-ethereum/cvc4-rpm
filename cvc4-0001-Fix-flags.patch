From: Jerry James <loganjerry@gmail.com>
Date: Thu, 13 Jun 2019 06:32:44 -0600
Subject: [PATCH] Fix flags


diff --git a/CMakeLists.txt b/CMakeLists.txt
index e4d4aaeda..ee4c430f9 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -175,7 +175,7 @@ option(BUILD_BINDINGS_PYTHON "Build Python bindings based on new C++ API ")
 #-----------------------------------------------------------------------------#
 # Internal cmake variables
 
-set(OPTIMIZATION_LEVEL 3)
+set(OPTIMIZATION_LEVEL 2)
 set(GPL_LIBS "")
 
 #-----------------------------------------------------------------------------#
diff --git a/cmake/ConfigProduction.cmake b/cmake/ConfigProduction.cmake
index 503f5d58f..6fe9bbbb0 100644
--- a/cmake/ConfigProduction.cmake
+++ b/cmake/ConfigProduction.cmake
@@ -1,5 +1,5 @@
-# OPTLEVEL=3
-set(OPTIMIZATION_LEVEL 3)
+# OPTLEVEL=2
+set(OPTIMIZATION_LEVEL 2)
 # enable_debug_symbols=no
 cvc4_set_option(ENABLE_DEBUG_SYMBOLS OFF)
 # enable_statistics=yes
diff --git a/src/parser/CMakeLists.txt b/src/parser/CMakeLists.txt
index 393b1597a..832573f8f 100644
--- a/src/parser/CMakeLists.txt
+++ b/src/parser/CMakeLists.txt
@@ -81,10 +81,6 @@ foreach(lang Cvc Smt2 Tptp)
   set_source_files_properties(${gen_src_files} PROPERTIES LANGUAGE CXX)
   set_source_files_properties(${gen_src_files} PROPERTIES GENERATED TRUE)
 
-  # We don't want to enable -Wall for code generated by ANTLR.
-  set_source_files_properties(
-    ${gen_src_files} PROPERTIES COMPILE_FLAGS -Wno-all)
-
   # Add generated source files to the parser source files
   list(APPEND libcvc4parser_src_files ${gen_src_files})
 endforeach()
diff --git a/src/prop/bvminisat/mtl/template.mk b/src/prop/bvminisat/mtl/template.mk
index 3f443fc38..325c0e410 100644
--- a/src/prop/bvminisat/mtl/template.mk
+++ b/src/prop/bvminisat/mtl/template.mk
@@ -22,7 +22,7 @@ CXX       ?= g++
 CFLAGS    ?= -Wall -Wno-parentheses
 LFLAGS    ?= -Wall
 
-COPTIMIZE ?= -O3
+COPTIMIZE ?= -O2
 
 CFLAGS    += -I$(MROOT) -D __STDC_LIMIT_MACROS -D __STDC_FORMAT_MACROS
 LFLAGS    += -lz
diff --git a/src/prop/minisat/mtl/template.mk b/src/prop/minisat/mtl/template.mk
index 3f443fc38..325c0e410 100644
--- a/src/prop/minisat/mtl/template.mk
+++ b/src/prop/minisat/mtl/template.mk
@@ -22,7 +22,7 @@ CXX       ?= g++
 CFLAGS    ?= -Wall -Wno-parentheses
 LFLAGS    ?= -Wall
 
-COPTIMIZE ?= -O3
+COPTIMIZE ?= -O2
 
 CFLAGS    += -I$(MROOT) -D __STDC_LIMIT_MACROS -D __STDC_FORMAT_MACROS
 LFLAGS    += -lz
